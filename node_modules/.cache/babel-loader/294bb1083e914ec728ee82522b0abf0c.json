{"ast":null,"code":"import Spaceship from './models/spaceship-model';\nimport { store } from '../store/store';\nexport default class Game {\n  init() {\n    console.log('Game initialized.');\n  }\n\n  start() {\n    this.keyDownHandler = e => {\n      this.key = e.key;\n    };\n\n    this.keyUpHandler = e => {\n      this.key = undefined;\n    };\n\n    window.addEventListener('keydown', this.keyDownHandler);\n    window.addEventListener('keyup', this.keyUpHandler);\n    this.canvas = document.getElementById('gameBoard');\n    this.context = this.canvas.getContext('2d');\n    this.loop = window.requestAnimationFrame(() => this.update());\n  }\n\n  update() {\n    this.clear();\n    this.spaceship.update();\n    this.draw();\n    this.loop = window.requestAnimationFrame(() => this.update());\n  }\n\n  stop() {\n    window.removeEventListener('keydown', this.keyDownHandler);\n    window.removeEventListener('keyUp', this.keyUpHandler);\n    window.cancelAnimationFrame(this.loop);\n  }\n\n  createSprites() {\n    const spaceshipImg = document.getElementById('spaceship');\n    const width = store.getState().canvas.width;\n    const height = store.getState().canvas.height;\n    this.spaceship = new Spaceship(width / 2 - 50, height / 2 - 50, spaceshipImg); //minus 50px -> half of width from the rendered sprite to center the image in the canvas\n  }\n\n  draw() {\n    this.spaceship.render();\n  }\n\n  clear() {\n    const width = store.getState().canvas.width;\n    const height = store.getState().canvas.height;\n    this.context.clearRect(0, 0, width, height);\n  }\n\n}","map":{"version":3,"sources":["/home/kevin/websites/html/jump-and-run-js/src/assets/scripts/game.js"],"names":["Spaceship","store","Game","init","console","log","start","keyDownHandler","e","key","keyUpHandler","undefined","window","addEventListener","canvas","document","getElementById","context","getContext","loop","requestAnimationFrame","update","clear","spaceship","draw","stop","removeEventListener","cancelAnimationFrame","createSprites","spaceshipImg","width","getState","height","render","clearRect"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,eAAe,MAAMC,IAAN,CAAU;AAErBC,EAAAA,IAAI,GAAE;AAEFC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAEH;;AAEDC,EAAAA,KAAK,GAAE;AAEH,SAAKC,cAAL,GAAuBC,CAAD,IAAO;AAAE,WAAKC,GAAL,GAAWD,CAAC,CAACC,GAAb;AAAkB,KAAjD;;AACA,SAAKC,YAAL,GAAqBF,CAAD,IAAO;AAAE,WAAKC,GAAL,GAAWE,SAAX;AAAsB,KAAnD;;AAEAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKN,cAAxC;AACAK,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKH,YAAtC;AAEA,SAAKI,MAAL,GAAcC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd;AACA,SAAKC,OAAL,GAAe,KAAKH,MAAL,CAAYI,UAAZ,CAAuB,IAAvB,CAAf;AAEA,SAAKC,IAAL,GAAYP,MAAM,CAACQ,qBAAP,CAA6B,MAAM,KAAKC,MAAL,EAAnC,CAAZ;AACH;;AAEDA,EAAAA,MAAM,GAAE;AACJ,SAAKC,KAAL;AACA,SAAKC,SAAL,CAAeF,MAAf;AACA,SAAKG,IAAL;AACA,SAAKL,IAAL,GAAYP,MAAM,CAACQ,qBAAP,CAA6B,MAAM,KAAKC,MAAL,EAAnC,CAAZ;AACH;;AAEDI,EAAAA,IAAI,GAAE;AACFb,IAAAA,MAAM,CAACc,mBAAP,CAA2B,SAA3B,EAAsC,KAAKnB,cAA3C;AACAK,IAAAA,MAAM,CAACc,mBAAP,CAA2B,OAA3B,EAAoC,KAAKhB,YAAzC;AACAE,IAAAA,MAAM,CAACe,oBAAP,CAA4B,KAAKR,IAAjC;AACH;;AAEDS,EAAAA,aAAa,GAAE;AAEX,UAAMC,YAAY,GAAGd,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAArB;AACA,UAAMc,KAAK,GAAG7B,KAAK,CAAC8B,QAAN,GAAiBjB,MAAjB,CAAwBgB,KAAtC;AACA,UAAME,MAAM,GAAG/B,KAAK,CAAC8B,QAAN,GAAiBjB,MAAjB,CAAwBkB,MAAvC;AAEA,SAAKT,SAAL,GAAiB,IAAIvB,SAAJ,CAAgB8B,KAAK,GAAG,CAAT,GAAc,EAA7B,EAAkCE,MAAM,GAAG,CAAV,GAAe,EAAhD,EAAoDH,YAApD,CAAjB,CANW,CAMwE;AACtF;;AAEDL,EAAAA,IAAI,GAAE;AAAE,SAAKD,SAAL,CAAeU,MAAf;AAAyB;;AAEjCX,EAAAA,KAAK,GAAE;AACH,UAAMQ,KAAK,GAAG7B,KAAK,CAAC8B,QAAN,GAAiBjB,MAAjB,CAAwBgB,KAAtC;AACA,UAAME,MAAM,GAAG/B,KAAK,CAAC8B,QAAN,GAAiBjB,MAAjB,CAAwBkB,MAAvC;AAEA,SAAKf,OAAL,CAAaiB,SAAb,CAAuB,CAAvB,EAAyB,CAAzB,EAA4BJ,KAA5B,EAAmCE,MAAnC;AACH;;AAnDoB","sourcesContent":["import Spaceship from './models/spaceship-model'\nimport { store } from '../store/store'\nexport default class Game{\n\n    init(){\n        \n        console.log('Game initialized.')\n\n    }   \n\n    start(){\n\n        this.keyDownHandler = (e) => { this.key = e.key }\n        this.keyUpHandler = (e) => { this.key = undefined }\n\n        window.addEventListener('keydown', this.keyDownHandler)\n        window.addEventListener('keyup', this.keyUpHandler)\n\n        this.canvas = document.getElementById('gameBoard')\n        this.context = this.canvas.getContext('2d')\n\n        this.loop = window.requestAnimationFrame(() => this.update())\n    }\n\n    update(){\n        this.clear()\n        this.spaceship.update()\n        this.draw()\n        this.loop = window.requestAnimationFrame(() => this.update())\n    }\n\n    stop(){\n        window.removeEventListener('keydown', this.keyDownHandler)\n        window.removeEventListener('keyUp', this.keyUpHandler)\n        window.cancelAnimationFrame(this.loop)\n    }\n\n    createSprites(){\n\n        const spaceshipImg = document.getElementById('spaceship')\n        const width = store.getState().canvas.width\n        const height = store.getState().canvas.height\n\n        this.spaceship = new Spaceship( (width / 2) - 50, (height / 2) - 50, spaceshipImg) //minus 50px -> half of width from the rendered sprite to center the image in the canvas\n    }\n\n    draw(){ this.spaceship.render() }\n\n    clear(){\n        const width = store.getState().canvas.width\n        const height = store.getState().canvas.height\n\n        this.context.clearRect(0,0, width, height)\n    }\n}"]},"metadata":{},"sourceType":"module"}