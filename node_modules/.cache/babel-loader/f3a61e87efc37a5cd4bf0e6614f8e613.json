{"ast":null,"code":"import Spaceship from './models/spaceship-model';\n\nclass Game {\n  constructor() {\n    this.keys = [];\n  }\n\n  init() {\n    console.log('Game initialized.');\n    this.createSprites();\n    this.start();\n  }\n\n  start() {\n    this.keyDownHandler = e => {\n      this.keys[e.code] = true;\n    };\n\n    this.keyUpHandler = e => {\n      this.keys[e.code] = false;\n    };\n\n    window.addEventListener('keydown', this.keyDownHandler);\n    window.addEventListener('keyup', this.keyUpHandler);\n    this.canvas = document.getElementById('gameBoard');\n    this.context = this.canvas.getContext('2d');\n    this.loop = window.requestAnimationFrame(() => this.update());\n  }\n\n  update() {\n    this.spaceship.move(this.keys);\n    this.clear();\n    this.draw();\n    this.loop = window.requestAnimationFrame(() => this.update());\n  }\n\n  stop() {\n    window.removeEventListener('keydown', this.keyDownHandler);\n    window.removeEventListener('keyUp', this.keyUpHandler);\n    window.cancelAnimationFrame(this.loop);\n  }\n\n  createSprites() {\n    const spaceshipImg = document.getElementById('spaceship');\n    this.spaceship = new Spaceship(500, 200, spaceshipImg);\n  }\n\n  draw() {\n    this.spaceship.render();\n  }\n\n  clear() {\n    this.context.clearRect(0, 0, 875, 504);\n  }\n\n}\n\nconst game = new Game();\nexport { game };","map":{"version":3,"sources":["D:/jump-and-run-js/src/assets/scripts/game.js"],"names":["Spaceship","Game","constructor","keys","init","console","log","createSprites","start","keyDownHandler","e","code","keyUpHandler","window","addEventListener","canvas","document","getElementById","context","getContext","loop","requestAnimationFrame","update","spaceship","move","clear","draw","stop","removeEventListener","cancelAnimationFrame","spaceshipImg","render","clearRect","game"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,0BAAtB;;AACA,MAAMC,IAAN,CAAU;AAENC,EAAAA,WAAW,GAAE;AACT,SAAKC,IAAL,GAAY,EAAZ;AACH;;AACDC,EAAAA,IAAI,GAAE;AAEFC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,SAAKC,aAAL;AACA,SAAKC,KAAL;AACH;;AAEDA,EAAAA,KAAK,GAAE;AAEH,SAAKC,cAAL,GAAuBC,CAAD,IAAO;AAAE,WAAKP,IAAL,CAAUO,CAAC,CAACC,IAAZ,IAAoB,IAApB;AAA0B,KAAzD;;AACA,SAAKC,YAAL,GAAqBF,CAAD,IAAO;AAAE,WAAKP,IAAL,CAAUO,CAAC,CAACC,IAAZ,IAAoB,KAApB;AAA2B,KAAxD;;AAEAE,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKL,cAAxC;AACAI,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKF,YAAtC;AAEA,SAAKG,MAAL,GAAcC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd;AACA,SAAKC,OAAL,GAAe,KAAKH,MAAL,CAAYI,UAAZ,CAAuB,IAAvB,CAAf;AAEA,SAAKC,IAAL,GAAYP,MAAM,CAACQ,qBAAP,CAA6B,MAAM,KAAKC,MAAL,EAAnC,CAAZ;AACH;;AAEDA,EAAAA,MAAM,GAAE;AACJ,SAAKC,SAAL,CAAeC,IAAf,CAAoB,KAAKrB,IAAzB;AACA,SAAKsB,KAAL;AACA,SAAKC,IAAL;AACA,SAAKN,IAAL,GAAYP,MAAM,CAACQ,qBAAP,CAA6B,MAAM,KAAKC,MAAL,EAAnC,CAAZ;AACH;;AAEDK,EAAAA,IAAI,GAAE;AACFd,IAAAA,MAAM,CAACe,mBAAP,CAA2B,SAA3B,EAAsC,KAAKnB,cAA3C;AACAI,IAAAA,MAAM,CAACe,mBAAP,CAA2B,OAA3B,EAAoC,KAAKhB,YAAzC;AACAC,IAAAA,MAAM,CAACgB,oBAAP,CAA4B,KAAKT,IAAjC;AACH;;AAEDb,EAAAA,aAAa,GAAE;AACX,UAAMuB,YAAY,GAAGd,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAArB;AACA,SAAKM,SAAL,GAAiB,IAAIvB,SAAJ,CAAc,GAAd,EAAmB,GAAnB,EAAwB8B,YAAxB,CAAjB;AACH;;AAEDJ,EAAAA,IAAI,GAAE;AACF,SAAKH,SAAL,CAAeQ,MAAf;AACH;;AAEDN,EAAAA,KAAK,GAAE;AACH,SAAKP,OAAL,CAAac,SAAb,CAAuB,CAAvB,EAAyB,CAAzB,EAA2B,GAA3B,EAA+B,GAA/B;AACH;;AAlDK;;AAoDV,MAAMC,IAAI,GAAG,IAAIhC,IAAJ,EAAb;AACA,SAAQgC,IAAR","sourcesContent":["import Spaceship from './models/spaceship-model'\r\nclass Game{\r\n\r\n    constructor(){\r\n        this.keys = []\r\n    }\r\n    init(){\r\n\r\n        console.log('Game initialized.')\r\n        this.createSprites()\r\n        this.start()\r\n    }   \r\n\r\n    start(){\r\n\r\n        this.keyDownHandler = (e) => { this.keys[e.code] = true }\r\n        this.keyUpHandler = (e) => { this.keys[e.code] = false }\r\n\r\n        window.addEventListener('keydown', this.keyDownHandler)\r\n        window.addEventListener('keyup', this.keyUpHandler)\r\n\r\n        this.canvas = document.getElementById('gameBoard')\r\n        this.context = this.canvas.getContext('2d')\r\n\r\n        this.loop = window.requestAnimationFrame(() => this.update())\r\n    }\r\n\r\n    update(){\r\n        this.spaceship.move(this.keys)\r\n        this.clear()\r\n        this.draw()\r\n        this.loop = window.requestAnimationFrame(() => this.update())\r\n    }\r\n\r\n    stop(){\r\n        window.removeEventListener('keydown', this.keyDownHandler)\r\n        window.removeEventListener('keyUp', this.keyUpHandler)\r\n        window.cancelAnimationFrame(this.loop)\r\n    }\r\n\r\n    createSprites(){\r\n        const spaceshipImg = document.getElementById('spaceship')\r\n        this.spaceship = new Spaceship(500, 200, spaceshipImg)\r\n    }\r\n\r\n    draw(){\r\n        this.spaceship.render()\r\n    }\r\n\r\n    clear(){\r\n        this.context.clearRect(0,0,875,504)\r\n    }\r\n}\r\nconst game = new Game()\r\nexport {game}"]},"metadata":{},"sourceType":"module"}